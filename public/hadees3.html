<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Hadith Qudsi | Bandaheali</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        :root {
            --gold: #FFD700;
            --dark-gold: #C5A42B;
            --maroon: #800000;
            --cream: #FFF8E7;
            --dark-green: #013220;
            --blue: #1E90FF;
        }
        
        body {
            font-family: 'Arial', sans-serif;
            background-color: var(--cream);
            margin: 0;
            padding: 0;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            background-image: url('https://images.unsplash.com/photo-1519817650390-64a93db51149?ixlib=rb-1.2.1&auto=format&fit=crop&w=1350&q=80');
            background-size: cover;
            background-position: center;
            background-attachment: fixed;
            position: relative;
        }
        
        body::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.6);
            z-index: 0;
        }
        
        .container {
            position: relative;
            z-index: 1;
            width: 90%;
            max-width: 800px;
            background: linear-gradient(135deg, rgba(255, 255, 255, 0.1), rgba(255, 255, 255, 0.05));
            backdrop-filter: blur(10px);
            -webkit-backdrop-filter: blur(10px);
            border-radius: 20px;
            border: 1px solid var(--blue);
            box-shadow: 0 8px 32px 0 rgba(0, 0, 0, 0.37);
            overflow: hidden;
            padding: 30px;
            color: white;
        }
        
        .header {
            text-align: center;
            margin-bottom: 30px;
            position: relative;
        }
        
        .header h1 {
            font-size: 2.5rem;
            margin: 0;
            color: var(--gold);
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.5);
            font-weight: 700;
            letter-spacing: 2px;
        }
        
        .header p {
            font-size: 1.1rem;
            color: #ddd;
            margin-top: 10px;
        }
        
        .header::after {
            content: '';
            display: block;
            width: 150px;
            height: 3px;
            background: linear-gradient(to right, var(--blue), var(--dark-gold));
            margin: 15px auto;
            border-radius: 3px;
        }
        
        .hadith-container {
            background: rgba(1, 50, 32, 0.7);
            border-radius: 15px;
            padding: 30px;
            border: 1px solid var(--blue);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
            position: relative;
            min-height: 300px;
            display: flex;
            flex-direction: column;
            justify-content: center;
        }
        
        .hadith-container::before {
            content: '\f10a';
            font-family: 'Font Awesome 6 Free';
            font-weight: 900;
            position: absolute;
            top: 20px;
            left: 20px;
            font-size: 3rem;
            color: rgba(30, 144, 255, 0.2);
            z-index: 0;
        }
        
        .hadith-container::after {
            content: '\f10b';
            font-family: 'Font Awesome 6 Free';
            font-weight: 900;
            position: absolute;
            bottom: 20px;
            right: 20px;
            font-size: 3rem;
            color: rgba(30, 144, 255, 0.2);
            z-index: 0;
        }
        
        .hadith-text {
            font-size: 1.5rem;
            line-height: 1.8;
            margin-bottom: 20px;
            position: relative;
            z-index: 1;
            text-align: center;
            font-style: italic;
        }
        
        .hadith-reference {
            text-align: right;
            font-size: 1.1rem;
            color: var(--gold);
            margin-top: 20px;
            position: relative;
            z-index: 1;
            font-weight: bold;
        }
        
        .hadith-number {
            text-align: center;
            font-size: 1.2rem;
            color: var(--blue);
            margin-bottom: 15px;
            font-weight: bold;
        }
        
        .controls {
            display: flex;
            justify-content: space-between;
            margin-top: 30px;
        }
        
        .btn {
            padding: 12px 25px;
            border: none;
            border-radius: 50px;
            cursor: pointer;
            font-size: 1rem;
            font-weight: bold;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .btn-new {
            background: linear-gradient(to right, var(--blue), #1C86EE);
            color: white;
        }
        
        .btn-share {
            background: linear-gradient(to right, var(--gold), var(--dark-gold));
            color: var(--dark-green);
        }
        
        .btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
        }
        
        .btn:active {
            transform: translateY(1px);
        }
        
        .date-display {
            text-align: center;
            margin-top: 20px;
            font-size: 1rem;
            color: #ccc;
        }
        
        .premium-badge {
            position: absolute;
            top: -10px;
            right: -10px;
            background: linear-gradient(45deg, var(--blue), #1C86EE);
            color: white;
            padding: 8px 15px;
            border-radius: 20px;
            font-weight: bold;
            font-size: 0.8rem;
            box-shadow: 0 3px 10px rgba(0, 0, 0, 0.2);
            z-index: 2;
            display: flex;
            align-items: center;
            gap: 5px;
        }
        
        .floating-icons {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            overflow: hidden;
            pointer-events: none;
            z-index: 0;
        }
        
        .floating-icon {
            position: absolute;
            font-size: 1.5rem;
            opacity: 0.1;
            color: var(--blue);
            animation: float 15s linear infinite;
        }
        
        @keyframes float {
            0% {
                transform: translateY(100vh) translateX(0);
            }
            100% {
                transform: translateY(-100px) translateX(calc(var(--random-x) * 100px));
            }
        }
        
        /* Loading spinner */
        .spinner {
            display: inline-block;
            width: 30px;
            height: 30px;
            border: 3px solid rgba(30, 144, 255, 0.3);
            border-radius: 50%;
            border-top-color: var(--blue);
            animation: spin 1s ease-in-out infinite;
        }

        @keyframes spin {
            to { transform: rotate(360deg); }
        }
        
        /* Search and language controls */
        .search-controls {
            display: flex;
            gap: 10px;
            margin-bottom: 20px;
            flex-wrap: wrap;
        }
        
        .search-box {
            flex: 1;
            min-width: 150px;
        }
        
        .language-selector {
            min-width: 100px;
        }
        
        .search-box input, .language-selector select {
            width: 100%;
            padding: 10px 15px;
            border-radius: 50px;
            border: 1px solid var(--blue);
            background: rgba(0, 0, 0, 0.3);
            color: white;
            font-size: 1rem;
        }
        
        .search-box input::placeholder {
            color: #ccc;
        }
        
        .search-btn {
            padding: 10px 20px;
            background: linear-gradient(to right, var(--blue), #1C86EE);
            color: white;
            border: none;
            border-radius: 50px;
            cursor: pointer;
            font-weight: bold;
            transition: all 0.3s ease;
        }
        
        .search-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 3px 10px rgba(0, 0, 0, 0.2);
        }
        
        .disclaimer {
            font-size: 0.8rem;
            color: #aaa;
            text-align: center;
            margin-top: 20px;
            padding-top: 10px;
            border-top: 1px solid rgba(30, 144, 255, 0.3);
        }
        
        @media (max-width: 768px) {
            .container {
                padding: 20px;
            }
            
            .header h1 {
                font-size: 2rem;
            }
            
            .hadith-text {
                font-size: 1.2rem;
            }
            
            .hadith-reference {
                font-size: 1rem;
            }
            
            .search-controls {
                flex-direction: column;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <span class="premium-badge">
            <i class="fas fa-crown"></i> Recite durood shareef
        </span>
        
        <div class="floating-icons" id="floatingIcons"></div>
        
        <div class="header">
            <h1>Hadith Qudsi</h1>
            <p>Divine sayings revealed to Prophet Muhammad (PBUH)</p>
        </div>
        
        <div class="search-controls">
            <div class="search-box">
                <input type="number" id="hadithNumber" placeholder="Enter Hadith number (1-40)" min="1" max="40">
            </div>
            <div class="language-selector">
                <select id="languageSelect">
                    <option value="en">English</option>
                    <option value="ar" selected>Arabic</option>
                </select>
            </div>
            <button class="search-btn" id="searchBtn">
                <i class="fas fa-search"></i> Search
            </button>
        </div>
        
        <div class="hadith-container">
            <div class="hadith-number" id="hadithNumberDisplay">
                Hadith Qudsi #1
            </div>
            <div class="hadith-text" id="hadithText">
                Loading hadith...
            </div>
            <div class="hadith-reference" id="hadithReference">
                <span class="spinner"></span>
            </div>
        </div>
        
        <div class="date-display" id="dateDisplay">
            Today, June 15, 2023
        </div>
        
        <div class="disclaimer">
            These hadith are fetched from an API. Please verify them yourself for authenticity.
        </div>
        
        <div class="controls">
            <button class="btn btn-new" id="newHadithBtn">
                <i class="fas fa-sync-alt"></i> New Hadith
            </button>
            <button class="btn btn-share" id="shareBtn">
                <i class="fas fa-share-alt"></i> Share
            </button>
        </div>
    </div>

    <script>
        // DOM elements
        const hadithText = document.getElementById('hadithText');
        const hadithReference = document.getElementById('hadithReference');
        const hadithNumberDisplay = document.getElementById('hadithNumberDisplay');
        const newHadithBtn = document.getElementById('newHadithBtn');
        const shareBtn = document.getElementById('shareBtn');
        const dateDisplay = document.getElementById('dateDisplay');
        const floatingIcons = document.getElementById('floatingIcons');
        const hadithNumberInput = document.getElementById('hadithNumber');
        const languageSelect = document.getElementById('languageSelect');
        const searchBtn = document.getElementById('searchBtn');
        
        // Set current date
        const today = new Date();
        const options = { weekday: 'long', year: 'numeric', month: 'long', day: 'numeric' };
        dateDisplay.textContent = today.toLocaleDateString('en-US', options);
        
        // Create floating icons
        function createFloatingIcons() {
            const icons = ['', '', '', '', '', '', '', ''];
            
            for (let i = 0; i < 15; i++) {
                const icon = document.createElement('div');
                icon.className = 'floating-icon';
                icon.innerHTML = `<i class="fas fa-star-and-crescent"></i>`;
                icon.style.setProperty('--random-x', Math.random() * 2 - 1);
                icon.style.left = `${Math.random() * 100}%`;
                icon.style.animationDuration = `${10 + Math.random() * 20}s`;
                icon.style.animationDelay = `${Math.random() * 5}s`;
                floatingIcons.appendChild(icon);
            }
        }
        
        createFloatingIcons();
        
        // Fetch hadith from API
        async function fetchHadith(number = null, language = 'ar') {
            try {
                // Show loading state
                hadithText.textContent = "Loading hadith...";
                hadithReference.innerHTML = '<span class="spinner"></span>';
                
                // Use provided number or generate random between 1-40 (Forty Hadith Qudsi)
                const hadithNum = number || Math.floor(Math.random() * 40) + 1;
                
                const response = await fetch(`https://api.nexoracle.com/islamic/hadith-qudsi?q=${hadithNum}/${language}`);
                const data = await response.json();
                
                if (data.status === 200 && data.result.data.hadiths.length > 0) {
                    // Get the first hadith from the response
                    const hadith = data.result.data.hadiths[0];
                    
                    // Display the hadith
                    displayHadith(hadithNum, hadith.text, `Forty Hadith Qudsi #${hadithNum}`);
                } else {
                    throw new Error('No hadiths found');
                }
            } catch (error) {
                console.error('Error fetching hadith:', error);
                // Fallback to local hadiths if API fails
                useLocalHadith();
            }
        }
        
        // Local hadiths as fallback
        const localHadiths = [
            {
                number: 1,
                text: "When Allah decreed the Creation He pledged Himself by writing in His book which is laid down with Him: My mercy prevails over My wrath.",
                reference: "Forty Hadith Qudsi #1"
            },
            {
                number: 2,
                text: "Allah has written down the good deeds and the bad ones. Then He explained it: He who has intended a good deed and has not done it, Allah writes it down with Himself as a full good deed.",
                reference: "Forty Hadith Qudsi #2"
            },
            {
                number: 3,
                text: "Allah will say on the Day of Resurrection: Where are those who love one another through My glory? Today I shall give them shade in My shade, it being a day when there is no shade but My shade.",
                reference: "Forty Hadith Qudsi #3"
            },
            {
                number: 4,
                text: "Allah will say: O son of Adam, I fell ill and you visited Me not. He will say: O Lord, and how should I visit You when You are the Lord of the worlds? He will say: Did you not know that My servant So-and-so had fallen ill and you visited him not?",
                reference: "Forty Hadith Qudsi #4"
            }
        ];
        
        function useLocalHadith() {
            const randomIndex = Math.floor(Math.random() * localHadiths.length);
            const hadith = localHadiths[randomIndex];
            displayHadith(hadith.number, hadith.text, hadith.reference);
        }
        
        // Display hadith
        function displayHadith(number, text, reference) {
            hadithNumberDisplay.textContent = `Hadith Qudsi #${number}`;
            hadithText.textContent = `"${text}"`;
            hadithReference.textContent = reference;
            
            // Add animation effect
            hadithText.style.animation = 'none';
            hadithReference.style.animation = 'none';
            setTimeout(() => {
                hadithText.style.animation = 'fadeIn 1s ease-in-out';
                hadithReference.style.animation = 'fadeIn 1s ease-in-out';
            }, 10);
        }
        
        // Share functionality
        function shareHadith() {
            const shareText = `${hadithNumberDisplay.textContent}\n\n${hadithText.textContent}\n\n${hadithReference.textContent}\n\nRecite durood shareef before sharing.`;
            
            if (navigator.share) {
                navigator.share({
                    title: 'Hadith Qudsi',
                    text: shareText,
                    url: window.location.href
                }).catch(err => {
                    console.log('Error sharing:', err);
                });
            } else {
                // Fallback for browsers that don't support Web Share API
                const textArea = document.createElement('textarea');
                textArea.value = shareText;
                document.body.appendChild(textArea);
                textArea.select();
                document.execCommand('copy');
                document.body.removeChild(textArea);
                alert('Hadith copied to clipboard!');
            }
        }
        
        // Event listeners
        newHadithBtn.addEventListener('click', () => {
            fetchHadith(null, languageSelect.value);
        });
        
        shareBtn.addEventListener('click', shareHadith);
        
        searchBtn.addEventListener('click', () => {
            const hadithNum = hadithNumberInput.value;
            if (hadithNum && hadithNum >= 1 && hadithNum <= 40) {
                fetchHadith(hadithNum, languageSelect.value);
            } else {
                alert('Please enter a valid hadith number between 1 and 40');
            }
        });
        
        languageSelect.addEventListener('change', () => {
            fetchHadith(null, languageSelect.value);
        });
        
        // Fetch initial hadith
        fetchHadith(null, languageSelect.value);
    </script>
</body>
  </html>
